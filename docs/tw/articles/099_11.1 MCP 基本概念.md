# 11.1 MCP 基本概念

Model Context Protocol (MCP) 是一個用於 AI 工具整合的開源標準，允許 Claude Code 連線到數百個外部工具和資料來源，極大擴充套件了 AI 助手的能力邊界。

## 什麼是 MCP

MCP 是一個開放協議，定義了 AI 助手如何與外部工具和資料來源進行互動。透過 MCP，Claude Code 可以突破自身能力限制，實現以下功能：

  * 訪問外部 API 和服務，如 GitHub、Slack、AWS 等
  * 查詢各種資料庫系統，包括 SQL 和 NoSQL 資料庫
  * 操作本地和遠端檔案系統
  * 與開發工具深度整合，如 VS Code、Git、Docker 等
  * 自動化複雜工作流程，實現 DevOps 自動化

## MCP 的核心价值

### 1\. 统一接口


MCP 為不同的工具和資料來源提供統一的介面，使 Claude Code 能夠以一致的方式與各種服務互動。這意味著無論使用哪種工具，使用者都可以透過相同的語法和模式進行呼叫，大大降低了學習成本。

### 2\. 可擴充套件性

透過 MCP，您可以輕鬆新增新的工具和資料來源，無需修改 Claude Code 的核心程式碼。這種外掛式架構使得系統可以快速適應新的技術和需求。

### 3\. 安全性

MCP 提供標準化的安全機制，包括身份驗證、許可權控制和資料隔離。所有工具呼叫都經過嚴格的安全檢查，確保敏感資料不會洩露。

### 4\. 開放性

MCP 是開源協議，任何人都可以建立 MCP 伺服器或客戶端。這意味著開發者可以自由擴充套件 MCP 生態系統，為 Claude Code 帶來更多功能。

## MCP 架构

### 客户端-服务器模型


MCP 採用客戶端-伺服器架構：

  * **客戶端** : Claude Code 作為 MCP 客戶端，負責接收使用者請求並轉發給 MCP 伺服器
  * **伺服器** : 提供工具和資料來源的服務，負責處理客戶端請求並返回結果

### 通訊方式

MCP 支援多種通訊方式：

  1. **HTTP** : 透過 HTTP 協議通訊，這是最常用的方式
  2. **SSE** : 透過 Server-Sent Events 通訊（已棄用，不建議使用）
  3. **stdio** : 透過標準輸入輸出通訊，適用於本地工具整合

### 数据流

    bash


    用户请求 → Claude Code → MCP 服务器 → 外部服务
              ↓              ↓
          MCP 工具调用     工具执行
              ↓              ↓
          返回结果         结果返回


MCP 資料流分為以下幾個階段：

  1. 使用者向 Claude Code 傳送請求
  2. Claude Code 將請求轉換為 MCP 工具呼叫
  3. MCP 伺服器接收請求並呼叫相應的外部服務
  4. 外部服務執行操作並返回結果
  5. MCP 伺服器將結果返回給 Claude Code
  6. Claude Code 將結果呈現給使用者
