# 5.9 `claude mcp` - 配置模型上下文協議 (MCP) 伺服器

`claude mcp` 命令用於配置和管理模型上下文協議 (MCP) 伺服器。MCP 是 Claude Code 連線外部工具和資料來源的重要橋樑。

```
## 命令语法

    bash


    claude mcp [选项]

## 功能描述

```
`claude mcp` 命令會開啟 MCP 配置介面，允許您：

  * 新增新的 MCP 伺服器
  * 管理現有的 MCP 伺服器
  * 配置 MCP 伺服器引數
  * 測試 MCP 伺服器連線
  * 檢視 MCP 伺服器狀態

```
## MCP 概述

### 什么是 MCP？

```
模型上下文協議 (MCP) 是一個開放協議，允許 Claude Code：

  * 連線到外部工具和服務
  * 訪問外部資料來源
  * 執行外部操作
  * 擴充套件 Claude Code 的能力

### MCP 的優勢
  * **開放標準** ：基於開放協議，任何人都可以實現
  * **靈活擴充套件** ：支援各種工具和服務整合
  * **安全控制** ：提供細粒度的許可權控制
  * **易於使用** ：簡單的配置和管理

```
## 使用示例

### 基本用法

    bash


    claude mcp

```
開啟 MCP 配置介面。

```
### 添加 MCP 服务器

    bash


    claude mcp add airtable --env AIRTABLE_API_KEY=YOUR_KEY -- npx @modelcontextprotocol/server-airtable

```
新增 Airtable MCP 伺服器。

```
### 列出服务器

    bash


    claude mcp list

```
列出所有配置的 MCP 伺服器。

```
### 删除服务器

    bash


    claude mcp remove airtable

```
刪除指定的 MCP 伺服器。

```
## MCP 配置选项

### 服务器配置

```
MCP 伺服器透過以下方式配置：

  * 伺服器名稱
  * 命令和引數
  * 環境變數

示例：

```
    bash


    claude mcp add <name> <command> [args...]

### 安装范围

```
MCP 伺服器可以在不同範圍安裝：

  1. **本地範圍** ：僅當前專案
  2. **專案範圍** ：專案及其子專案
  3. **使用者範圍** ：所有專案

```
## 使用场景

### 1\. 数据库集成

    bash


    claude mcp add postgres -- npx @modelcontextprotocol/server-postgres --env POSTGRES_CONNECTION_STRING="postgresql://..."

```
整合資料庫訪問能力。

```
### 2\. API 集成

    bash


    claude mcp add airtable --env AIRTABLE_API_KEY=YOUR_KEY -- npx @modelcontextprotocol/server-airtable

```
整合外部 API 服務。

```
### 3\. 文件系统访问

    bash


    claude mcp add filesystem -- npx @modelcontextprotocol/server-filesystem /path/to/directory

```
擴充套件檔案系統訪問能力。

```
### 4\. 云服务集成

    bash


    claude mcp add browsercat -- npx -y @browsercatco/mcp-server --env BROWSERCAT_API_KEY=YOUR_KEY

```
整合雲服務。

## 注意事項
  1. **網路連線** ：遠端 MCP 伺服器需要穩定的網路連線
  2. **認證配置** ：某些伺服器需要配置認證資訊
  3. **許可權控制** ：MCP 伺服器可能需要特定的許可權
  4. **效能影響** ：過多的 MCP 伺服器可能影響效能
  5. **安全考慮** ：只信任和配置可信的 MCP 伺服器

## 相關命令
  * `/mcp`：在互動式會話中檢查 MCP 伺服器狀態
  * MCP 文件：詳細的 MCP 配置和使用指南