# 7.26 /sandbox - 啟用沙箱化bash工具

## 概述

`/sandbox` 命令用於啟用沙箱化 bash 工具，提供檔案系統和網路隔離，以實現更安全、更自主的執行。

## 基本语法

    bash


    /sandbox

## 功能说明


執行 `/sandbox` 命令後，Claude Code 會：

  1. 啟用沙箱化 bash 工具
  2. 隔離檔案系統訪問
  3. 隔離網路訪問
  4. 限制系統資源使用
  5. 提供更安全的執行環境

## 沙箱特性

### 文件系统隔离


  * 只能訪問指定目錄
  * 無法訪問系統關鍵檔案
  * 檔案操作受限制

### 網路隔離


  * 限制網路訪問
  * 控制網路連線
  * 防止未授權訪問

### 資源限制


  * 限制 CPU 使用
  * 限制記憶體使用
  * 限制磁碟使用

```
## 使用场景

### 1\. 执行不可信代码

    bash


    # 执行来自外部的代码
    /sandbox

    # 在沙箱中安全执行

### 2\. 测试脚本

    bash


    # 测试未知脚本
    /sandbox

    # 隔离环境测试

### 3\. 自动化任务

    bash


    # 执行自动化任务
    /sandbox

    # 安全地运行任务

## 沙箱配置

### 配置文件

```

沙箱配置儲存在配置檔案中：

```
    json


    {
      "sandbox": {
        "enabled": true,
        "allowedDirectories": [
          "./project",
          "./temp"
        ],
        "networkAccess": "restricted",
        "resourceLimits": {
          "cpu": "50%",
          "memory": "1GB",
          "disk": "100MB"
        }
      }
    }

### 允许的目录

    bash


    # 配置允许访问的目录
    /sandbox --add-dir ./project
    /sandbox --add-dir ./temp

## 注意事项

```

  1. 沙箱會限制某些功能
  2. 某些操作可能無法在沙箱中執行
  3. 沙箱配置需要合理設定
  4. 沙箱不是完全隔離的

```
## 安全建议

### 最小权限原则

    bash


    # 只允许必要的目录访问
    /sandbox --add-dir ./project

    # 限制网络访问
    /sandbox --network restricted

### 资源限制

    bash


    # 限制资源使用
    /sandbox --cpu-limit 50%
    /sandbox --memory-limit 1GB

## 与其他命令的配合使用

    bash


    # 启用沙箱，然后执行命令
    /sandbox
    npm install

    # 在沙箱中安全执行

## 最佳实践

```

  1. **預設啟用** ：在不確定的情況下，預設啟用沙箱
  2. **合理配置** ：根據需要配置沙箱引數
  3. **定期檢查** ：定期檢查沙箱配置
  4. **測試驗證** ：在沙箱中測試後再在生產環境執行

## 總結

`/sandbox` 命令是 Claude Code 中用於提供安全執行環境的重要命令。透過使用此命令，你可以：

  * 啟用沙箱化 bash 工具
  * 隔離檔案系統和網路訪問
  * 限制系統資源使用
  * 提高執行安全性

合理使用 `/sandbox` 命令可以幫助你在更安全的環境中執行命令。
