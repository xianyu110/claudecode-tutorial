# 6.1 `--add-dir` - 新增額外的工作目錄

`--add-dir` 標誌允許您新增額外的工作目錄供 Claude Code 訪問。這在您需要讓 Claude Code 訪問專案外的檔案或目錄時非常有用。

```
## 标志语法

    bash


    claude --add-dir <path> [其他选项]

## 功能描述

```
`--add-dir` 標誌會：

  1. 驗證指定的路徑是否存在為目錄
  2. 將該目錄新增到 Claude Code 可訪問的工作目錄列表
  3. 允許 Claude Code 讀取和操作該目錄中的檔案

```
## 使用示例

### 基本用法

    bash


    claude --add-dir ../apps

```
新增 `../apps` 目錄到工作目錄。

```
### 添加多个目录

    bash


    claude --add-dir ../apps ../lib

```
新增多個目錄到工作目錄。

```
### 绝对路径

    bash


    claude --add-dir /absolute/path/to/directory

```
使用絕對路徑新增目錄。

```
### 结合其他标志

    bash


    claude --add-dir ../src --add-dir ../tests "分析整个项目"

```
新增多個目錄並立即開始分析專案。

```
## 使用场景

### 1\. 多模块项目

    bash


    claude --add-dir ../frontend --add-dir ../backend

```
讓 Claude Code 訪問前端和後端模組。

```
### 2\. 共享库访问

    bash


    claude --add-dir ../shared-lib

```
讓 Claude Code 訪問共享的庫程式碼。

```
### 3\. 测试目录访问

    bash


    claude --add-dir ./tests

```
讓 Claude Code 訪問測試目錄和檔案。

```
### 4\. 配置文件访问

    bash


    claude --add-dir ../config

```
讓 Claude Code 訪問配置檔案。

## 路徑驗證
`--add-dir` 標誌會驗證每個路徑：

  * **存在性檢查** ：確保路徑存在
  * **目錄檢查** ：確保路徑是目錄，不是檔案
  * **可訪問性檢查** ：確保路徑可讀可訪問 如果驗證失敗，會顯示錯誤資訊。

## 注意事項
  1. **路徑存在** ：指定的路徑必須存在，否則會報錯
  2. **目錄型別** ：路徑必須是目錄，不能是檔案
  3. **許可權要求** ：需要有讀取該目錄的許可權
  4. **相對路徑** ：相對路徑是相對於當前工作目錄
  5. **多個目錄** ：可以多次使用 `--add-dir` 新增多個目錄
  6. **路徑分隔符** ：在 Windows 系統中可以使用反斜槓 `\` 或正斜槓 `/`

## 最佳實踐
  1. **使用相對路徑** ：優先使用相對路徑，提高可移植性
  2. **明確新增** ：只新增實際需要的目錄
  3. **組織結構** ：保持專案結構清晰，便於新增目錄
  4. **許可權管理** ：確保新增的目錄有適當的許可權
  5. **文件記錄** ：記錄新增的目錄及其用途

```
## 常见问题

### Q: 可以添加文件吗？

A: 不可以，`--add-dir` 只能添加目录。要访问特定文件，可以在对话中直接提及。

### Q: 添加的目录会持久化吗？

A: 不会，`--add-dir` 只对当前会话有效。要持久化，请在配置文件中设置。

### Q: 可以添加网络路径吗？

A: 不可以，`--add-dir` 只能添加本地文件系统路径。

### Q: 添加目录的数量有限制吗？

A: 理论上没有限制，但添加过多目录可能影响性能。

## 相关标志

```
  * `--model`：設定會話模型
  * `--verbose`：啟用詳細日誌記錄
  * `/help`：顯示可用命令列表

```bash
## 实际应用示例

### 多项目工作流

    shell


    #!/bin/bash
    # 在多个项目目录中工作
    projects=("project-a" "project-b" "project-c")

    for project in "${projects[@]}"; do
      echo "在 $project 中工作"
      cd "/path/to/$project"
      claude --add-dir ../shared-lib "处理 $project"
    done

### 开发环境配置

    bash


    #!/bin/bash
    # 配置开发环境
    claude \
    --add-dir ./src \
    --add-dir ./tests \
    --add-dir ./config \
    --add-dir ../shared \
    "配置开发环境"
```