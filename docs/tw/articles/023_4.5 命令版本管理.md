# 4.5 命令版本管理

Claude Code 會定期更新，新增新功能、改進現有功能、修復 bug。瞭解命令版本管理可以幫助您保持 Claude Code 的最新狀態，並瞭解版本之間的差異。

## 版本信息

### 查看当前版本


您可以透過以下方式檢視當前安裝的 Claude Code 版本：

#### CLI 命令

claude --version

#### 交互式命令

    bash


    /version


這會顯示當前安裝的 Claude Code 版本號。

### 版本號格式

Claude Code 使用語義化版本號格式：`MAJOR.MINOR.PATCH`

  * **MAJOR（主版本號）** ：重大更新，可能包含不相容的 API 變更
  * **MINOR（次版本號）** ：新功能新增，向後相容
  * **PATCH（修訂號）** ：bug 修復和小改進，向後相容

例如：`2.1.3` 表示主版本 2，次版本 1，修訂號 3。

## 更新 Claude Code

### 使用 `claude update` 命令


Claude Code 提供了方便的更新命令，可以自動檢查並安裝最新版本。

#### 基本用法

    bash


    claude update


這會執行以下操作：

  1. 檢查是否有新版本可用
  2. 下載最新版本的安裝包
  3. 安裝新版本
  4. 清理舊版本的檔案

#### 更新過程

更新過程通常包括以下步驟：

  1. **檢查更新** ：連線到更新伺服器，檢查最新版本
  2. **下載更新** ：下載更新包（可能需要幾分鐘）
  3. **驗證更新** ：驗證下載的更新包的完整性
  4. **安裝更新** ：安裝新版本（可能需要管理員許可權）
  5. **清理** ：刪除臨時檔案和舊版本
  6. **確認** ：顯示更新完成資訊和新版本號

### 更新选项

#### 检查更新但不安装


某些情況下，您可能只想檢查是否有更新，而不立即安裝：

```
    bash


    claude update --check-only


這會顯示是否有新版本可用，但不會執行安裝。

#### 指定版本

在某些情況下，您可能需要安裝特定版本：

    bash


    claude update --version 2.1.0


這會安裝指定的版本，而不是最新版本。

#### 預覽版本

如果您想嘗試預覽版本（可能包含新功能，但可能有 bug）：

    bash


    claude update --preview

```

這會安裝最新的預覽版本。

## 版本兼容性

### 命令兼容性


不同版本的 Claude Code 可能支援不同的命令和標誌：

  * **新增命令** ：新版本可能新增新的命令
  * **廢棄命令** ：舊命令在新版本中可能被廢棄
  * **刪除命令** ：某些命令在新版本中可能被刪除
  * **命令變更** ：命令的語法或行為可能發生變化

### 標誌相容性

不同版本的 Claude Code 可能支援不同的標誌：

  * **新增標誌** ：新版本可能新增新的標誌
  * **廢棄標誌** ：舊標誌在新版本中可能被廢棄
  * **刪除標誌** ：某些標誌在新版本中可能被刪除
  * **標誌變更** ：標誌的語法或行為可能發生變化

### 配置相容性

不同版本的 Claude Code 可能使用不同的配置格式：

  * **配置結構** ：配置檔案的結構可能發生變化
  * **配置選項** ：配置選項可能被新增、刪除或重新命名
  * **預設值** ：配置選項的預設值可能發生變化
  * **驗證規則** ：配置驗證規則可能變得更加嚴格

## 版本迁移

### 升级到新版本


當您升級到新版本時，可能需要進行一些遷移工作：

  1. **閱讀釋出說明** ：瞭解新版本的變化和改進
  2. **檢查廢棄警告** ：注意廢棄的功能，準備遷移
  3. **更新配置** ：根據新的配置格式更新配置檔案
  4. **測試功能** ：測試常用的功能，確保正常工作
  5. **報告問題** ：如果發現問題，及時報告

### 降級到舊版本

如果新版本有問題，您可能需要降級到舊版本：

```
    bash


    claude update --version 2.0.14

```
