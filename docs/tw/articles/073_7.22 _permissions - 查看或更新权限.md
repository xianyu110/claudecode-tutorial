# 7.22 /permissions - 檢視或更新許可權

## 概述
`/permissions` 命令用於檢視或更新 Claude Code 的許可權配置，控制 Claude 可以執行的操作。

```
## 基本语法

    bash


    /permissions [subcommand]

## 子命令

```
子命令| 描述
---|---
無引數| 檢視當前許可權配置
`add`| 新增許可權規則
`remove`| 刪除許可權規則
`clear`| 清除所有許可權規則
`reset`| 重置為預設許可權

```
## 权限类型

### 工具权限

```
  * `Bash`: 執行 shell 命令
  * `Read`: 讀取檔案
  * `Write`: 寫入檔案
  * `Edit`: 編輯檔案
  * `Delete`: 刪除檔案
  * `Grep`: 搜尋檔案內容

### 命令許可權
  * `SlashCommand`: 執行斜槓命令
  * `RunCommand`: 執行命令

```yaml
## 使用场景

### 1\. 查看权限

    bash


    # 查看当前权限配置
    /permissions

    # 显示所有权限规则

### 2\. 添加权限

    bash


    # 添加权限规则
    /permissions add

    # 按照提示添加权限

### 3\. 删除权限

    bash


    # 删除权限规则
    /permissions remove Bash

    # 删除 Bash 工具权限

### 4\. 重置权限

    bash


    # 重置为默认权限
    /permissions reset

    # 恢复默认配置

## 权限规则示例

### 允许特定命令

    yaml


    allow:
      - Bash(git add:*)
      - Bash(git commit:*)
      - Bash(git status:*)

### 拒绝特定操作

    yaml


    deny:
      - Delete(*)
      - Bash(rm:*)

### 限制文件访问

    yaml


    allow:
      - Read(./src/*)
      - Write(./src/*)
    deny:
      - Read(./config/*)
      - Write(./config/*)

## 注意事项

```
  1. 許可權規則按順序評估
  2. 拒絕規則優先於允許規則
  3. 許可權配置儲存在配置檔案中
  4. 更改許可權會影響當前會話

```
## 安全建议

### 最小权限原则

    bash


    # 只授予必要的权限
    /permissions add

    # 只允许需要的工具和命令

### 敏感目录保护

    bash


    # 保护敏感目录
    /permissions add

    # 拒绝访问敏感文件

### 命令限制

    bash


    # 限制危险命令
    /permissions add

    # 拒绝执行危险命令

## 与其他命令的配合使用

    bash


    # 查看权限，然后更新
    /permissions
    /permissions add

    # 执行流程：
    # 1. 查看当前权限
    # 2. 添加新的权限规则

## 最佳实践

```
  1. **最小許可權** ：只授予必要的許可權
  2. **定期審查** ：定期審查許可權配置
  3. **明確規則** ：使用明確的許可權規則
  4. **測試驗證** ：更改許可權後測試功能

## 總結
`/permissions` 命令是 Claude Code 中用於許可權管理的重要命令。透過使用此命令，你可以：

  * 檢視當前許可權配置
  * 新增或刪除許可權規則
  * 控制 Claude 可以執行的操作
  * 提高安全性

合理使用 `/permissions` 命令可以幫助你更好地控制 Claude Code 的行為，提高安全性。