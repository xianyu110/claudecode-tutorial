# 5.8 `claude update` - 更新到最新版本

`claude update` 命令用於將 Claude Code 更新到最新版本，確保您始終使用最新的功能和改進。

## 命令语法

    bash


    claude update [选项]

## 功能描述


`claude update` 命令會執行以下操作：

  1. 檢查當前安裝的版本
  2. 連線到更新伺服器，檢查是否有新版本
  3. 下載最新版本的安裝包
  4. 驗證下載的安裝包
  5. 安裝新版本
  6. 清理舊版本的檔案
  7. 顯示更新完成資訊

## 使用示例

### 基本用法

    bash


    claude update


更新到最新版本。

## 更新过程

### 1\. 检查更新


系統會檢查是否有新版本可用：

  * 比較當前版本和最新版本
  * 顯示可用的更新資訊

### 2\. 下載更新

如果檢測到新版本，系統會下載更新包：

  * 顯示下載進度
  * 儲存到臨時目錄

### 3\. 安裝更新

下載完成後，系統會安裝新版本：

  * 安裝新版本檔案
  * 更新配置檔案（如需要）

### 4\. 確認

最後，系統會顯示更新完成資訊：

  * 顯示新版本號
  * 提供更新說明

## 使用场景

### 1\. 定期更新

    bash


    # 每周检查并更新
    claude update


保持 Claude Code 最新狀態。

### 2\. 通过 npm 更新

    bash


    # 使用 npm 更新
    npm update -g @anthropic-ai/claude-code


透過 npm 包管理器更新。

## 更新注意事项

### 1\. 权限要求


更新可能需要管理員許可權：

  * **Linux/macOS** ：可能需要 `sudo`
  * **Windows** ：可能需要管理員許可權

### 2\. 網路連線

更新需要網路連線：

  * 確保網路連線穩定
  * 某些網路環境可能需要代理配置
  * 下載可能需要幾分鐘

### 3\. 配置相容性

新版本可能需要配置更新：

  * 某些配置選項可能被廢棄
  * 新的配置選項可能被新增
  * 配置格式可能發生變化

### 4\. 外掛相容性

更新後，外掛可能需要更新：

  * 某些外掛可能不相容新版本
  * 外掛 API 可能發生變化
  * 需要更新外掛到相容版本

## 更新最佳实践

### 1\. 定期更新


  * 定期檢查並更新 Claude Code
  * 關注重要更新和安全補丁
  * 在非生產環境先測試新版本

### 2\. 備份配置


  * 更新前備份配置檔案
  * 儲存重要的會話和歷史
  * 記錄自定義設定和外掛

### 3\. 閱讀釋出說明


  * 更新前閱讀釋出說明
  * 瞭解新功能和改進
  * 注意廢棄的功能和 breaking changes

### 4\. 測試更新


  * 在測試環境先更新
  * 驗證關鍵功能正常工作
  * 確認沒有效能問題

### 5\. 逐步推廣


  * 不要立即在生產環境使用新版本
  * 先在小範圍試用
  * 確認穩定後再全面推廣

## 故障排除

### 更新失败


如果更新失敗，可以嘗試：

  1. 檢查網路連線
  2. 使用 `npm update -g @anthropic-ai/claude-code` 手動更新
  3. 使用 `claude doctor` 檢查安裝狀態

### 許可權問題

如果遇到許可權問題：

  1. 使用 `sudo`（Linux/macOS）
  2. 以管理員身份執行（Windows）
  3. 檢查檔案和目錄許可權

## 相關命令


  * `claude --version`：檢視當前版本
  * `/version`：在互動式會話中檢視版本
  * `--check-only`：只檢查更新

## 更新日誌

Claude Code 的更新日誌包含：

  * 新功能列表
  * 改進和最佳化
  * bug 修復
  * 廢棄的功能
  * 已知問題

您可以透過以下方式獲取更新日誌：

  1. **官方文件** ：訪問 Claude Code 官方文件
  2. **GitHub Releases** ：檢視 GitHub 倉庫的 Releases 頁面
  3. **更新通知** ：關注更新通知郵件或訊息

透過定期更新 Claude Code，您可以確保使用最新的功能和改進，獲得更好的使用體驗。
