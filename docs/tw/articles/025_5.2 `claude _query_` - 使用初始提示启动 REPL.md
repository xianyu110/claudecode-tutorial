# 5.2 `claude "query"` - 使用初始提示啟動 REPL

`claude "query"` 命令允許您使用初始提示啟動 Claude Code 的互動式 REPL 環境。這在您希望 Claude 立即開始處理特定任務時非常有用。

## 命令语法

    bash


    claude "query" [选项]

## 功能描述


使用初始提示啟動 REPL，Claude 會立即開始處理您提供的查詢。這比先啟動 REPL 再輸入查詢更高效，特別適合：

  * 快速開始特定任務
  * 指令碼和自動化

## 使用示例

### 基本用法

    bash


    claude "解释这个项目"


啟動 REPL 並立即請求 Claude 解釋當前專案。

### 代码生成

    bash


    claude "创建一个 React 组件，用于显示用户列表"


啟動 REPL 並立即請求建立 React 元件。

### 代码审查

    bash


    claude "审查 src/utils.js 文件中的代码"


啟動 REPL 並立即請求審查指定檔案。

### 结合其他选项

    bash


    claude --model claude-sonnet-4-5 "优化这个函数的性能"


使用指定的模型啟動 REPL，並立即請求最佳化函式。

## 初始提示的优势

### 1\. 节省时间


不需要先啟動 REPL 再輸入查詢，一步完成啟動和查詢。

### 2\. 上下文設定

初始查詢可以設定對話的上下文，後續的互動會基於這個上下文。

### 3\. 自動化友好

適合在指令碼和自動化流程中使用，可以快速執行特定任務。

## 常用场景

### 1\. 快速任务

    bash


    claude "将这个 Python 函数转换为 JavaScript"


快速完成程式碼轉換任務。

### 2\. 日常开发

    bash


    claude "帮我写一个单元测试，测试这个函数"


在日常開發中快速請求幫助。

### 3\. 学习和探索

    bash


    claude "解释什么是闭包，并给出示例"


快速學習和探索程式設計概念。

### 4\. 调试和问题解决

    bash


    claude "为什么这个函数返回 undefined？"


快速獲取除錯幫助。

## 注意事項

  1. **引號使用** ：如果查詢包含空格或特殊字元，需要使用引號括起來
  2. **查詢長度** ：初始查詢不宜過長，可以在 REPL 中繼續補充
  3. **上下文保持** ：初始查詢會設定對話上下文，影響後續互動
  4. **會話儲存** ：使用初始提示啟動的 REPL 會話也會被儲存，可以後續恢復
  5. **錯誤處理** ：如果初始查詢有錯誤，REPL 仍會啟動，您可以修正查詢

## 與其他命令的對比

命令| 啟動方式| 是否進入 REPL| 適用場景
---|---|---|---

`claude`| 無初始提示| 是| 日常互動式使用
`claude "query"`| 有初始提示| 是| 快速開始特定任務
`claude -p "query"`| 有初始提示| 否| 指令碼和自動化
`claude -c`| 載入最近對話| 是| 繼續之前的對話
`claude -r "id"`| 恢復指定會話| 是| 恢復特定會話

## 最佳實踐

  1. **明確查詢** ：初始查詢應該明確具體，避免模糊不清
  2. **提供上下文** ：如果查詢涉及特定檔案或專案，提供足夠的上下文
  3. **分步進行** ：複雜任務可以分步進行，先設定初始查詢，然後在 REPL 中逐步完善
  4. **儲存會話** ：重要的對話會話可以儲存，方便後續恢復和參考

## 相關命令


  * `claude`：啟動互動式 REPL（無初始提示）
  * `claude -p "query"`：透過 SDK 查詢，然後退出
