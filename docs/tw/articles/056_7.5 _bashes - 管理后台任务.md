# 7.5 /bashes - 管理後臺任務

## 概述

`/bashes` 命令用於列出和管理 Claude Code 中的後臺任務。後臺任務是在後臺執行的 shell 命令，不會阻塞主對話流程，適合長時間執行的操作。

## 基本语法

    bash


    /bashes [subcommand]

## 子命令


子命令| 描述
---|---

無引數| 列出所有後臺任務及其狀態
`kill <task-id>`| 終止指定的後臺任務
`output <task-id>`| 檢視指定任務的輸出
`clear`| 清除已完成的任務

```
## 功能说明

### 列出后台任务

    bash


    /bashes

    # 输出示例：
    # Background tasks:
    # [1] Running - npm install
    # [2] Completed - npm run build
    # [3] Failed - npm test

### 终止任务

    bash


    /bashes kill 1

    # 终止任务 ID 为 1 的后台任务

### 查看任务输出

    bash


    /bashes output 2

    # 查看任务 ID 为 2 的输出内容

### 清除已完成任务

    bash


    /bashes clear

    # 清除所有已完成的任务

## 使用场景

### 1\. 长时间运行的构建

    bash


    # 在后台运行构建任务
    npm run build &

    # 查看任务状态
    /bashes

### 2\. 安装依赖

    bash


    # 在后台安装依赖
    npm install &

    # 继续其他工作，稍后检查状态
    /bashes

### 3\. 运行测试

    bash


    # 在后台运行测试
    npm test &

    # 查看测试结果
    /bashes output 3

### 4\. 监控任务

    bash


    # 定期检查后台任务状态
    /bashes

    # 根据需要终止或查看输出
    /bashes kill 1
    /bashes output 2

## 后台任务的优势


  1. **非阻塞** ：後臺任務不會阻塞主對話流程
  2. **多工** ：可以同時執行多個後臺任務
  3. **監控** ：可以隨時檢視任務狀態和輸出
  4. **控制** ：可以終止不需要的任務

## 注意事項

  1. 後臺任務會在 Claude Code 會話結束時終止
  2. 任務 ID 是會話內唯一的，會話結束後會重置
  3. 終止任務會立即停止其執行
  4. 已完成任務可以檢視輸出，但會被清除命令清理

## 与其他命令的配合使用

    bash


    # 启动后台任务，然后继续其他工作
    npm run build &
    /bashes

    # 执行流程：
    # 1. 在后台启动构建任务
    # 2. 查看所有后台任务状态
    # 3. 可以继续其他对话，构建在后台进行

## 最佳实践

```

  1. **長時間任務** ：將長時間執行的任務放在後臺執行
  2. **定期檢查** ：定期使用 `/bashes` 檢查任務狀態
  3. **及時清理** ：使用 `/bashes clear` 清理已完成的任務
  4. **合理終止** ：及時終止不需要的任務，釋放資源

## 總結

`/bashes` 命令是 Claude Code 中用於管理後臺任務的重要命令。透過使用此命令，你可以：

  * 檢視所有後臺任務的狀態
  * 終止不需要的任務
  * 檢視任務的輸出
  * 清理已完成的任務

合理使用 `/bashes` 命令可以幫助你更高效地管理長時間執行的任務，保持對話流程的流暢性。
