# 7.3 /mcp - 配置模型上下文協議伺服器

## 概述

`/mcp` 命令用於管理 Claude Code 的模型上下文協議（Model Context Protocol，簡稱 MCP）伺服器。MCP 是一種協議，允許 Claude Code 連線外部工具和資料來源，擴充套件其能力範圍。

## 基本语法

    bash


    /mcp <子命令> [参数]

## 子命令


子命令| 描述
---|---

`list`| 列出已配置的 MCP 伺服器
`add`| 新增 MCP 伺服器
`remove`| 刪除 MCP 伺服器
`enable`| 啟用 MCP 伺服器
`disable`| 禁用 MCP 伺服器
`info`| 顯示 MCP 伺服器資訊
`test`| 測試 MCP 伺服器連線

## 功能說明

透過 `/mcp` 命令，Claude Code 可以：

  1. 連線外部檔案系統，訪問更多專案檔案
  2. 整合 GitHub 等程式碼託管平臺
  3. 連線資料庫和 API 服務
  4. 使用外部搜尋工具
  5. 擴充套件 Claude Code 的功能範圍

```
## 使用场景

### 1\. 列出已配置的 MCP 服务器

    bash


    # 列出所有已配置的 MCP 服务器
    /mcp list

### 2\. 添加文件系统 MCP 服务器

    bash


    # 添加本地文件系统访问
    /mcp add filesystem stdio npx @modelcontextprotocol/server-filesystem /path/to/directory

### 3\. 添加 GitHub MCP 服务器

    bash


    # 添加 GitHub 集成
    /mcp add github sse https://api.github.com/mcp --token $GITHUB_TOKEN

### 4\. 测试 MCP 服务器连接

    bash


    # 测试特定 MCP 服务器连接
    /mcp test filesystem

    # 测试所有 MCP 服务器
    /mcp test --all

## 常见 MCP 服务器类型

### 1\. 文件系统服务器

    bash


    # 配置文件系统访问
    /mcp add filesystem stdio npx @modelcontextprotocol/server-filesystem ~/projects

### 2\. GitHub 服务器

    bash


    # 配置 GitHub 集成
    /mcp add github sse https://api.github.com/mcp --token $GITHUB_TOKEN

### 3\. 数据库服务器

    bash


    # 配置数据库连接
    /mcp add database stdio npx @modelcontextprotocol/server-postgres --connection-string "postgresql://user:pass@localhost/db"

## 注意事项

```

  1. MCP 伺服器需要單獨安裝和配置
  2. 某些 MCP 伺服器可能需要 API 金鑰或其他憑證
  3. 請確保只連線受信任的 MCP 伺服器，以保護您的資料安全
  4. MCP 伺服器的效能取決於伺服器型別和網路連線

## 最佳實踐

  1. **只連線必要的 MCP 伺服器** ：避免連線不必要的 MCP 伺服器，以提高效能和安全性
  2. **使用環境變數儲存憑證** ：不要在命令中直接硬編碼 API 金鑰或密碼
  3. **定期測試連線** ：確保 MCP 伺服器始終可用
  4. **使用描述性名稱** ：為 MCP 伺服器使用清晰、描述性的名稱

## 總結

`/mcp` 命令是 Claude Code 中用於擴充套件功能的重要命令，透過連線外部 MCP 伺服器，可以大大增強 Claude Code 的能力。合理使用 `/mcp` 命令可以幫助您更高效地使用 Claude Code 進行開發工作。
