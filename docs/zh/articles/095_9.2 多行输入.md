# 9.2 多行输入

Claude Code 提供了多种灵活的多行输入方式，让您可以轻松编写复杂的提示、代码片段和测试用例。无论您使用哪种终端，都能找到适合自己的多行输入方法。

```
## 多行输入方法

### 1\. 快速转义（通用方法）

```
这是适用于所有终端的最通用方法，无需任何配置。在行尾输入反斜杠 `\` 然后按 Enter 键：

```
    bash


    这是一个多行输入的例子，\
    第二行继续，\
    第三行结束。

### 2\. 系统默认快捷键

#### macOS 默认快捷键

```
在 macOS 系统中，您可以使用 `Option+Enter` 组合键来换行：

```
    bash


    这是第一行
    这是第二行
    这是第三行

#### Windows/Linux 默认快捷键

```
在 Windows 或 Linux 系统中，通常使用 `Alt+Enter` 组合键来换行。

### 3\. 终端设置快捷键
运行 `/terminal-setup` 命令后，可以使用 `Shift+Enter` 作为统一的换行快捷键，这在 iTerm2 和 VS Code 终端中效果最佳：

```
    bash


    /terminal-setup

```
执行此命令后，您就可以使用 `Shift+Enter` 来换行：

```
    bash


    这是第一行
    这是第二行
    这是第三行

### 4\. 控制序列

```
使用 `Ctrl+J` 作为换行符，这是一种更底层的控制序列方法：

```
    bash


    这是第一行
    这是第二行

### 5\. 粘贴模式

```
您可以直接粘贴多行文本到 Claude Code 中，无需任何特殊处理。例如：

```javascript
    javascript


    function example() {
        console.log("Hello");
        return true;
    }

## 配置多行输入

### 自动配置

```
运行 `/terminal-setup` 命令可以自动为 iTerm2 和 VS Code 终端安装 Shift+Enter 绑定：

```
    bash


    /terminal-setup

### 手动配置

```
如果您使用其他终端，可以手动配置快捷键：

#### iTerm2 配置
  1. 打开 iTerm2 偏好设置
  2. 导航到 "Keys" 选项卡
  3. 点击 "+" 添加新的快捷键
  4. 设置 `Shift+Enter` 发送 ` ` 字符

#### VS Code 终端配置
  1. 打开 VS Code 设置
  2. 搜索 "terminal.integrated.commandsToSkipShell"
  3. 添加 "workbench.action.terminal.focus"
  4. 在键盘快捷方式中设置 `Shift+Enter` 为 "workbench.action.terminal.sendSequence"

```
## 使用场景

### 1\. 编写复杂提示

```
当您需要向 Claude Code 提供详细的任务说明时，多行输入非常有用：

```
    bash


    我需要你帮我完成以下任务：
    1. 分析这段代码的性能瓶颈
    2. 提出优化建议
    3. 提供优化后的代码版本

### 2\. 输入代码片段

```
您可以直接输入多行代码片段进行分析或优化：

```javascript
    javascript


    请优化这段代码：
    function calculateTotal(items) {
        let total = 0;
        for (let i = 0; i < items.length; i++) {
            total += items[i].price;
        }
        return total;
    }

### 3\. 编写测试用例

```
多行输入让您可以轻松编写完整的测试用例：

```javascript
    javascript


    为以下函数编写单元测试：
    function add(a, b) {
        return a + b;
    }

    测试用例应该包括：
    - 正数相加
    - 负数相加
    - 零值测试
    - 边界情况

### 4\. 编写文档

```
您可以使用多行输入来编写文档或注释：

```
    bash


    # 项目文档

    ## 功能描述
    这个函数用于计算购物车中所有商品的总价。

    ## 参数说明
    - items: 包含商品信息的数组
    - each item: 包含 price 属性的对象

## 最佳实践

```
  1. **选择适合您的方法** ：根据您使用的终端和个人偏好，选择最适合的多行输入方法
  2. **保持代码格式** ：在输入代码时，保持适当的缩进和格式，便于 Claude Code 理解
  3. **使用粘贴模式** ：对于较长的代码片段，直接粘贴比手动输入更高效
  4. **测试快捷键** ：在开始工作前，测试您选择的多行输入方法是否正常工作
  5. **避免混合方法** ：尽量使用一种多行输入方法，避免在同一个会话中混合使用多种方法

```
## 故障排除

### 快捷键不工作

```
  * 确保您已经运行了 `/terminal-setup` 命令
  * 检查终端的快捷键设置，确保没有冲突
  * 尝试使用通用的反斜杠转义方法

### 粘贴格式混乱
  * 确保粘贴的文本格式正确
  * 尝试在粘贴前先按 Enter 键
  * 检查终端的粘贴设置

### 输入被截断
  * 确保没有超出 Claude Code 的输入限制
  * 尝试将长文本分成多个较短的输入
  * 检查终端的行长度设置

```
    bash


    ### 粘贴格式混乱
    1. 使用粘贴模式
    2. 检查终端的粘贴设置
    3. 尝试使用其他粘贴方法
```