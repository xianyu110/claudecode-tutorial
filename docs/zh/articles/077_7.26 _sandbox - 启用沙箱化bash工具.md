# 7.26 /sandbox - 启用沙箱化bash工具

## 概述
`/sandbox` 命令用于启用沙箱化 bash 工具，提供文件系统和网络隔离，以实现更安全、更自主的执行。

```
## 基本语法

    bash


    /sandbox

## 功能说明

```
执行 `/sandbox` 命令后，Claude Code 会：

  1. 启用沙箱化 bash 工具
  2. 隔离文件系统访问
  3. 隔离网络访问
  4. 限制系统资源使用
  5. 提供更安全的执行环境

```
## 沙箱特性

### 文件系统隔离

```
  * 只能访问指定目录
  * 无法访问系统关键文件
  * 文件操作受限制

### 网络隔离
  * 限制网络访问
  * 控制网络连接
  * 防止未授权访问

### 资源限制
  * 限制 CPU 使用
  * 限制内存使用
  * 限制磁盘使用

```
## 使用场景

### 1\. 执行不可信代码

    bash


    # 执行来自外部的代码
    /sandbox

    # 在沙箱中安全执行

### 2\. 测试脚本

    bash


    # 测试未知脚本
    /sandbox

    # 隔离环境测试

### 3\. 自动化任务

    bash


    # 执行自动化任务
    /sandbox

    # 安全地运行任务

## 沙箱配置

### 配置文件

```
沙箱配置保存在配置文件中：

```
    json


    {
      "sandbox": {
        "enabled": true,
        "allowedDirectories": [
          "./project",
          "./temp"
        ],
        "networkAccess": "restricted",
        "resourceLimits": {
          "cpu": "50%",
          "memory": "1GB",
          "disk": "100MB"
        }
      }
    }

### 允许的目录

    bash


    # 配置允许访问的目录
    /sandbox --add-dir ./project
    /sandbox --add-dir ./temp

## 注意事项

```
  1. 沙箱会限制某些功能
  2. 某些操作可能无法在沙箱中执行
  3. 沙箱配置需要合理设置
  4. 沙箱不是完全隔离的

```
## 安全建议

### 最小权限原则

    bash


    # 只允许必要的目录访问
    /sandbox --add-dir ./project

    # 限制网络访问
    /sandbox --network restricted

### 资源限制

    bash


    # 限制资源使用
    /sandbox --cpu-limit 50%
    /sandbox --memory-limit 1GB

## 与其他命令的配合使用

    bash


    # 启用沙箱，然后执行命令
    /sandbox
    npm install

    # 在沙箱中安全执行

## 最佳实践

```
  1. **默认启用** ：在不确定的情况下，默认启用沙箱
  2. **合理配置** ：根据需要配置沙箱参数
  3. **定期检查** ：定期检查沙箱配置
  4. **测试验证** ：在沙箱中测试后再在生产环境执行

## 总结
`/sandbox` 命令是 Claude Code 中用于提供安全执行环境的重要命令。通过使用此命令，你可以：

  * 启用沙箱化 bash 工具
  * 隔离文件系统和网络访问
  * 限制系统资源使用
  * 提高执行安全性

合理使用 `/sandbox` 命令可以帮助你在更安全的环境中执行命令。