# 5.2 `claude "query"` - 使用初始提示启动 REPL

`claude "query"` 命令允许您使用初始提示启动 Claude Code 的交互式 REPL 环境。这在您希望 Claude 立即开始处理特定任务时非常有用。

```
## 命令语法

    bash


    claude "query" [选项]

## 功能描述

```
使用初始提示启动 REPL，Claude 会立即开始处理您提供的查询。这比先启动 REPL 再输入查询更高效，特别适合：

  * 快速开始特定任务
  * 脚本和自动化

```
## 使用示例

### 基本用法

    bash


    claude "解释这个项目"

```
启动 REPL 并立即请求 Claude 解释当前项目。

```
### 代码生成

    bash


    claude "创建一个 React 组件，用于显示用户列表"

```
启动 REPL 并立即请求创建 React 组件。

```
### 代码审查

    bash


    claude "审查 src/utils.js 文件中的代码"

```
启动 REPL 并立即请求审查指定文件。

```
### 结合其他选项

    bash


    claude --model claude-sonnet-4-5 "优化这个函数的性能"

```
使用指定的模型启动 REPL，并立即请求优化函数。

```
## 初始提示的优势

### 1\. 节省时间

```
不需要先启动 REPL 再输入查询，一步完成启动和查询。

### 2\. 上下文设置
初始查询可以设置对话的上下文，后续的交互会基于这个上下文。

### 3\. 自动化友好
适合在脚本和自动化流程中使用，可以快速执行特定任务。

```
## 常用场景

### 1\. 快速任务

    bash


    claude "将这个 Python 函数转换为 JavaScript"

```
快速完成代码转换任务。

```
### 2\. 日常开发

    bash


    claude "帮我写一个单元测试，测试这个函数"

```
在日常开发中快速请求帮助。

```
### 3\. 学习和探索

    bash


    claude "解释什么是闭包，并给出示例"

```
快速学习和探索编程概念。

```
### 4\. 调试和问题解决

    bash


    claude "为什么这个函数返回 undefined？"

```
快速获取调试帮助。

## 注意事项
  1. **引号使用** ：如果查询包含空格或特殊字符，需要使用引号括起来
  2. **查询长度** ：初始查询不宜过长，可以在 REPL 中继续补充
  3. **上下文保持** ：初始查询会设置对话上下文，影响后续交互
  4. **会话保存** ：使用初始提示启动的 REPL 会话也会被保存，可以后续恢复
  5. **错误处理** ：如果初始查询有错误，REPL 仍会启动，您可以修正查询

## 与其他命令的对比
命令| 启动方式| 是否进入 REPL| 适用场景
---|---|---|---
`claude`| 无初始提示| 是| 日常交互式使用
`claude "query"`| 有初始提示| 是| 快速开始特定任务
`claude -p "query"`| 有初始提示| 否| 脚本和自动化
`claude -c`| 加载最近对话| 是| 继续之前的对话
`claude -r "id"`| 恢复指定会话| 是| 恢复特定会话

## 最佳实践
  1. **明确查询** ：初始查询应该明确具体，避免模糊不清
  2. **提供上下文** ：如果查询涉及特定文件或项目，提供足够的上下文
  3. **分步进行** ：复杂任务可以分步进行，先设置初始查询，然后在 REPL 中逐步完善
  4. **保存会话** ：重要的对话会话可以保存，方便后续恢复和参考

## 相关命令
  * `claude`：启动交互式 REPL（无初始提示）
  * `claude -p "query"`：通过 SDK 查询，然后退出