# 11.1 MCP 基本概念

Model Context Protocol (MCP) 是一个用于 AI 工具集成的开源标准，允许 Claude Code 连接到数百个外部工具和数据源，极大扩展了 AI 助手的能力边界。

## 什么是 MCP#

MCP 是一个开放协议，定义了 AI 助手如何与外部工具和数据源进行交互。通过 MCP，Claude Code 可以突破自身能力限制，实现以下功能：

  * 访问外部 API 和服务，如 GitHub、Slack、AWS 等
  * 查询各种数据库系统，包括 SQL 和 NoSQL 数据库
  * 操作本地和远程文件系统
  * 与开发工具深度集成，如 VS Code、Git、Docker 等
  * 自动化复杂工作流程，实现 DevOps 自动化

## MCP 的核心价值#

### 1\. 统一接口#

MCP 为不同的工具和数据源提供统一的接口，使 Claude Code 能够以一致的方式与各种服务交互。这意味着无论使用哪种工具，用户都可以通过相同的语法和模式进行调用，大大降低了学习成本。

### 2\. 可扩展性#

通过 MCP，您可以轻松添加新的工具和数据源，无需修改 Claude Code 的核心代码。这种插件式架构使得系统可以快速适应新的技术和需求。

### 3\. 安全性#

MCP 提供标准化的安全机制，包括身份验证、权限控制和数据隔离。所有工具调用都经过严格的安全检查，确保敏感数据不会泄露。

### 4\. 开放性#

MCP 是开源协议，任何人都可以创建 MCP 服务器或客户端。这意味着开发者可以自由扩展 MCP 生态系统，为 Claude Code 带来更多功能。

## MCP 架构#

### 客户端-服务器模型#

MCP 采用客户端-服务器架构：

  * **客户端** : Claude Code 作为 MCP 客户端，负责接收用户请求并转发给 MCP 服务器
  * **服务器** : 提供工具和数据源的服务，负责处理客户端请求并返回结果

### 通信方式#

MCP 支持多种通信方式：

  1. **HTTP** : 通过 HTTP 协议通信，这是最常用的方式
  2. **SSE** : 通过 Server-Sent Events 通信（已弃用，不建议使用）
  3. **stdio** : 通过标准输入输出通信，适用于本地工具集成

### 数据流#

    bash

    复制

    用户请求 → Claude Code → MCP 服务器 → 外部服务
              ↓              ↓
          MCP 工具调用     工具执行
              ↓              ↓
          返回结果         结果返回

MCP 数据流分为以下几个阶段：

  1. 用户向 Claude Code 发送请求
  2. Claude Code 将请求转换为 MCP 工具调用
  3. MCP 服务器接收请求并调用相应的外部服务
  4. 外部服务执行操作并返回结果
  5. MCP 服务器将结果返回给 Claude Code
  6. Claude Code 将结果呈现给用户