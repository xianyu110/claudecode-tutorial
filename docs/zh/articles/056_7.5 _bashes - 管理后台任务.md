# 7.5 /bashes - 管理后台任务

## 概述#

`/bashes` 命令用于列出和管理 Claude Code 中的后台任务。后台任务是在后台运行的 shell 命令，不会阻塞主对话流程，适合长时间运行的操作。

## 基本语法#

    bash

    复制

    /bashes [subcommand]

## 子命令#

子命令| 描述
---|---
无参数| 列出所有后台任务及其状态
`kill <task-id>`| 终止指定的后台任务
`output <task-id>`| 查看指定任务的输出
`clear`| 清除已完成的任务

## 功能说明#

### 列出后台任务#

    bash

    复制

    /bashes

    # 输出示例：
    # Background tasks:
    # [1] Running - npm install
    # [2] Completed - npm run build
    # [3] Failed - npm test

### 终止任务#

    bash

    复制

    /bashes kill 1

    # 终止任务 ID 为 1 的后台任务

### 查看任务输出#

    bash

    复制

    /bashes output 2

    # 查看任务 ID 为 2 的输出内容

### 清除已完成任务#

    bash

    复制

    /bashes clear

    # 清除所有已完成的任务

## 使用场景#

### 1\. 长时间运行的构建#

    bash

    复制

    # 在后台运行构建任务
    npm run build &

    # 查看任务状态
    /bashes

### 2\. 安装依赖#

    bash

    复制

    # 在后台安装依赖
    npm install &

    # 继续其他工作，稍后检查状态
    /bashes

### 3\. 运行测试#

    bash

    复制

    # 在后台运行测试
    npm test &

    # 查看测试结果
    /bashes output 3

### 4\. 监控任务#

    bash

    复制

    # 定期检查后台任务状态
    /bashes

    # 根据需要终止或查看输出
    /bashes kill 1
    /bashes output 2

## 后台任务的优势#

  1. **非阻塞** ：后台任务不会阻塞主对话流程
  2. **多任务** ：可以同时运行多个后台任务
  3. **监控** ：可以随时查看任务状态和输出
  4. **控制** ：可以终止不需要的任务

## 注意事项#

  1. 后台任务会在 Claude Code 会话结束时终止
  2. 任务 ID 是会话内唯一的，会话结束后会重置
  3. 终止任务会立即停止其执行
  4. 已完成任务可以查看输出，但会被清除命令清理

## 与其他命令的配合使用#

    bash

    复制

    # 启动后台任务，然后继续其他工作
    npm run build &
    /bashes

    # 执行流程：
    # 1. 在后台启动构建任务
    # 2. 查看所有后台任务状态
    # 3. 可以继续其他对话，构建在后台进行

## 最佳实践#

  1. **长时间任务** ：将长时间运行的任务放在后台执行
  2. **定期检查** ：定期使用 `/bashes` 检查任务状态
  3. **及时清理** ：使用 `/bashes clear` 清理已完成的任务
  4. **合理终止** ：及时终止不需要的任务，释放资源

## 总结#

`/bashes` 命令是 Claude Code 中用于管理后台任务的重要命令。通过使用此命令，你可以：

  * 查看所有后台任务的状态
  * 终止不需要的任务
  * 查看任务的输出
  * 清理已完成的任务

合理使用 `/bashes` 命令可以帮助你更高效地管理长时间运行的任务，保持对话流程的流畅性。