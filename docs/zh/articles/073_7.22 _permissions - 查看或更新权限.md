# 7.22 /permissions - 查看或更新权限

## 概述
`/permissions` 命令用于查看或更新 Claude Code 的权限配置，控制 Claude 可以执行的操作。

```
## 基本语法

    bash


    /permissions [subcommand]

## 子命令

```
子命令| 描述
---|---
无参数| 查看当前权限配置
`add`| 添加权限规则
`remove`| 删除权限规则
`clear`| 清除所有权限规则
`reset`| 重置为默认权限

```
## 权限类型

### 工具权限

```
  * `Bash`: 执行 shell 命令
  * `Read`: 读取文件
  * `Write`: 写入文件
  * `Edit`: 编辑文件
  * `Delete`: 删除文件
  * `Grep`: 搜索文件内容

### 命令权限
  * `SlashCommand`: 执行斜杠命令
  * `RunCommand`: 运行命令

```yaml
## 使用场景

### 1\. 查看权限

    bash


    # 查看当前权限配置
    /permissions

    # 显示所有权限规则

### 2\. 添加权限

    bash


    # 添加权限规则
    /permissions add

    # 按照提示添加权限

### 3\. 删除权限

    bash


    # 删除权限规则
    /permissions remove Bash

    # 删除 Bash 工具权限

### 4\. 重置权限

    bash


    # 重置为默认权限
    /permissions reset

    # 恢复默认配置

## 权限规则示例

### 允许特定命令

    yaml


    allow:
      - Bash(git add:*)
      - Bash(git commit:*)
      - Bash(git status:*)

### 拒绝特定操作

    yaml


    deny:
      - Delete(*)
      - Bash(rm:*)

### 限制文件访问

    yaml


    allow:
      - Read(./src/*)
      - Write(./src/*)
    deny:
      - Read(./config/*)
      - Write(./config/*)

## 注意事项

```
  1. 权限规则按顺序评估
  2. 拒绝规则优先于允许规则
  3. 权限配置保存在配置文件中
  4. 更改权限会影响当前会话

```
## 安全建议

### 最小权限原则

    bash


    # 只授予必要的权限
    /permissions add

    # 只允许需要的工具和命令

### 敏感目录保护

    bash


    # 保护敏感目录
    /permissions add

    # 拒绝访问敏感文件

### 命令限制

    bash


    # 限制危险命令
    /permissions add

    # 拒绝执行危险命令

## 与其他命令的配合使用

    bash


    # 查看权限，然后更新
    /permissions
    /permissions add

    # 执行流程：
    # 1. 查看当前权限
    # 2. 添加新的权限规则

## 最佳实践

```
  1. **最小权限** ：只授予必要的权限
  2. **定期审查** ：定期审查权限配置
  3. **明确规则** ：使用明确的权限规则
  4. **测试验证** ：更改权限后测试功能

## 总结
`/permissions` 命令是 Claude Code 中用于权限管理的重要命令。通过使用此命令，你可以：

  * 查看当前权限配置
  * 添加或删除权限规则
  * 控制 Claude 可以执行的操作
  * 提高安全性

合理使用 `/permissions` 命令可以帮助你更好地控制 Claude Code 的行为，提高安全性。