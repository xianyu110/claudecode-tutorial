# 5.9 `claude mcp` - 配置模型上下文协议 (MCP) 服务器

`claude mcp` 命令用于配置和管理模型上下文协议 (MCP) 服务器。MCP 是 Claude Code 连接外部工具和数据源的重要桥梁。

## 命令语法#

    bash

    复制

    claude mcp [选项]

## 功能描述#

`claude mcp` 命令会打开 MCP 配置界面，允许您：

  * 添加新的 MCP 服务器
  * 管理现有的 MCP 服务器
  * 配置 MCP 服务器参数
  * 测试 MCP 服务器连接
  * 查看 MCP 服务器状态

## MCP 概述#

### 什么是 MCP？#

模型上下文协议 (MCP) 是一个开放协议，允许 Claude Code：

  * 连接到外部工具和服务
  * 访问外部数据源
  * 执行外部操作
  * 扩展 Claude Code 的能力

### MCP 的优势#

  * **开放标准** ：基于开放协议，任何人都可以实现
  * **灵活扩展** ：支持各种工具和服务集成
  * **安全控制** ：提供细粒度的权限控制
  * **易于使用** ：简单的配置和管理

## 使用示例#

### 基本用法#

    bash

    复制

    claude mcp

打开 MCP 配置界面。

### 添加 MCP 服务器#

    bash

    复制

    claude mcp add airtable --env AIRTABLE_API_KEY=YOUR_KEY -- npx @modelcontextprotocol/server-airtable

添加 Airtable MCP 服务器。

### 列出服务器#

    bash

    复制

    claude mcp list

列出所有配置的 MCP 服务器。

### 删除服务器#

    bash

    复制

    claude mcp remove airtable

删除指定的 MCP 服务器。

## MCP 配置选项#

### 服务器配置#

MCP 服务器通过以下方式配置：

  * 服务器名称
  * 命令和参数
  * 环境变量

示例：

    bash

    复制

    claude mcp add <name> <command> [args...]

### 安装范围#

MCP 服务器可以在不同范围安装：

  1. **本地范围** ：仅当前项目
  2. **项目范围** ：项目及其子项目
  3. **用户范围** ：所有项目

## 使用场景#

### 1\. 数据库集成#

    bash

    复制

    claude mcp add postgres -- npx @modelcontextprotocol/server-postgres --env POSTGRES_CONNECTION_STRING="postgresql://..."

集成数据库访问能力。

### 2\. API 集成#

    bash

    复制

    claude mcp add airtable --env AIRTABLE_API_KEY=YOUR_KEY -- npx @modelcontextprotocol/server-airtable

集成外部 API 服务。

### 3\. 文件系统访问#

    bash

    复制

    claude mcp add filesystem -- npx @modelcontextprotocol/server-filesystem /path/to/directory

扩展文件系统访问能力。

### 4\. 云服务集成#

    bash

    复制

    claude mcp add browsercat -- npx -y @browsercatco/mcp-server --env BROWSERCAT_API_KEY=YOUR_KEY

集成云服务。

## 注意事项#

  1. **网络连接** ：远程 MCP 服务器需要稳定的网络连接
  2. **认证配置** ：某些服务器需要配置认证信息
  3. **权限控制** ：MCP 服务器可能需要特定的权限
  4. **性能影响** ：过多的 MCP 服务器可能影响性能
  5. **安全考虑** ：只信任和配置可信的 MCP 服务器

## 相关命令#

  * `/mcp`：在交互式会话中检查 MCP 服务器状态
  * MCP 文档：详细的 MCP 配置和使用指南