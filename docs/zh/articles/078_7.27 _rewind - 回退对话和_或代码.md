# 7.27 /rewind - 回退对话和/或代码

## 概述#

`/rewind` 命令用于回退对话和/或代码，允许你撤销之前的操作，恢复到之前的状态。

## 基本语法#

    bash

    复制

    /rewind [steps]

## 参数说明#

参数| 描述
---|---
`[steps]`| 可选，指定要回退的步数。如果不提供，则显示可回退的操作列表

## 功能说明#

执行 `/rewind` 命令后，Claude Code 会：

  1. 显示可回退的操作列表
  2. 允许选择要回退的操作
  3. 撤销选定的操作
  4. 恢复到之前的状态

## 使用场景#

### 1\. 查看可回退的操作#

    bash

    复制

    # 查看可回退的操作列表
    /rewind

    # 显示所有可回退的操作

### 2\. 回退特定步数#

    bash

    复制

    # 回退 3 步
    /rewind 3

    # 撤销最近的 3 个操作

### 3\. 撤销错误操作#

    bash

    复制

    # 撤销错误的操作
    /rewind

    # 选择要撤销的操作

## 可回退的操作#

### 对话操作#

  * 消息发送
  * 命令执行
  * 上下文更改

### 文件操作#

  * 文件创建
  * 文件编辑
  * 文件删除

### 代码操作#

  * 代码生成
  * 代码修改
  * 代码重构

## 回退示例#

### 查看操作列表#

    bash

    复制

    可回退的操作:
    1. 编辑 src/utils.js (2 分钟前)
    2. 创建 test.js (5 分钟前)
    3. 发送消息 "帮我写一个函数" (8 分钟前)
    4. 执行 /init 命令 (10 分钟前)

    选择要回退的操作 (输入编号):

### 回退操作#

    bash

    复制

    # 回退到操作 2
    /rewind 2

    # 撤销操作 2、3、4

## 注意事项#

  1. 回退会撤销操作，无法恢复
  2. 某些操作可能无法回退
  3. 回退会影响对话历史
  4. 建议在回退前导出对话

## 与其他命令的配合使用#

    bash

    复制

    # 导出对话，然后回退
    /export backup.md
    /rewind 3

    # 执行流程：
    # 1. 导出当前对话
    # 2. 回退 3 步

## 最佳实践#

  1. **谨慎使用** ：回退操作无法恢复，谨慎使用
  2. **先导出** ：回退前先导出对话，避免丢失
  3. **确认操作** ：回退前确认要撤销的操作
  4. **定期保存** ：定期保存重要状态

## 总结#

`/rewind` 命令是 Claude Code 中用于撤销操作的重要命令。通过使用此命令，你可以：

  * 查看可回退的操作
  * 撤销之前的操作
  * 恢复到之前的状态
  * 修正错误操作

合理使用 `/rewind` 命令可以帮助你管理操作历史，修正错误。