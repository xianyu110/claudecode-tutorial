# 7.3 /mcp - 配置模型上下文协议服务器

## 概述#

`/mcp` 命令用于管理 Claude Code 的模型上下文协议（Model Context Protocol，简称 MCP）服务器。MCP 是一种协议，允许 Claude Code 连接外部工具和数据源，扩展其能力范围。

## 基本语法#

    bash

    复制

    /mcp <子命令> [参数]

## 子命令#

子命令| 描述
---|---
`list`| 列出已配置的 MCP 服务器
`add`| 添加 MCP 服务器
`remove`| 删除 MCP 服务器
`enable`| 启用 MCP 服务器
`disable`| 禁用 MCP 服务器
`info`| 显示 MCP 服务器信息
`test`| 测试 MCP 服务器连接

## 功能说明#

通过 `/mcp` 命令，Claude Code 可以：

  1. 连接外部文件系统，访问更多项目文件
  2. 集成 GitHub 等代码托管平台
  3. 连接数据库和 API 服务
  4. 使用外部搜索工具
  5. 扩展 Claude Code 的功能范围

## 使用场景#

### 1\. 列出已配置的 MCP 服务器#

    bash

    复制

    # 列出所有已配置的 MCP 服务器
    /mcp list

### 2\. 添加文件系统 MCP 服务器#

    bash

    复制

    # 添加本地文件系统访问
    /mcp add filesystem stdio npx @modelcontextprotocol/server-filesystem /path/to/directory

### 3\. 添加 GitHub MCP 服务器#

    bash

    复制

    # 添加 GitHub 集成
    /mcp add github sse https://api.github.com/mcp --token $GITHUB_TOKEN

### 4\. 测试 MCP 服务器连接#

    bash

    复制

    # 测试特定 MCP 服务器连接
    /mcp test filesystem

    # 测试所有 MCP 服务器
    /mcp test --all

## 常见 MCP 服务器类型#

### 1\. 文件系统服务器#

    bash

    复制

    # 配置文件系统访问
    /mcp add filesystem stdio npx @modelcontextprotocol/server-filesystem ~/projects

### 2\. GitHub 服务器#

    bash

    复制

    # 配置 GitHub 集成
    /mcp add github sse https://api.github.com/mcp --token $GITHUB_TOKEN

### 3\. 数据库服务器#

    bash

    复制

    # 配置数据库连接
    /mcp add database stdio npx @modelcontextprotocol/server-postgres --connection-string "postgresql://user:pass@localhost/db"

## 注意事项#

  1. MCP 服务器需要单独安装和配置
  2. 某些 MCP 服务器可能需要 API 密钥或其他凭证
  3. 请确保只连接受信任的 MCP 服务器，以保护您的数据安全
  4. MCP 服务器的性能取决于服务器类型和网络连接

## 最佳实践#

  1. **只连接必要的 MCP 服务器** ：避免连接不必要的 MCP 服务器，以提高性能和安全性
  2. **使用环境变量存储凭证** ：不要在命令中直接硬编码 API 密钥或密码
  3. **定期测试连接** ：确保 MCP 服务器始终可用
  4. **使用描述性名称** ：为 MCP 服务器使用清晰、描述性的名称

## 总结#

`/mcp` 命令是 Claude Code 中用于扩展功能的重要命令，通过连接外部 MCP 服务器，可以大大增强 Claude Code 的能力。合理使用 `/mcp` 命令可以帮助您更高效地使用 Claude Code 进行开发工作。